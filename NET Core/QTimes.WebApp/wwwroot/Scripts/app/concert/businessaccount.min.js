function AccountSetupViewModel(){var n=this;n.BusinessAccounts=ko.observableArray([]);n.BusinessName=ko.observable();n.BusinessTypeId=ko.observable();n.Date=ko.observable();n.TimeFrom=ko.observable();n.TimeTo=ko.observable();n.Load=function(){ShowLoader();$.ajax({type:"GET",url:webserviceURL+"concertreservationsetting/businessaccounts",contentType:"application/json; charset=utf-8",success:function(t){var i=$.map(t.data.BusinessAccounts,function(n){return new BusinessAccount(n)});n.BusinessAccounts(i);HideLoader()},error:function(n,t,i){HideLoader();ShowErrorMessage(n,t,i)}})};n.AddBusiness=function(){ShowLoader();$.ajax({type:"POST",url:webserviceURL+"business",data:{Name:n.BusinessName(),BusinessTypeId:n.BusinessTypeId(),Date:n.Date(),TimeFrom:n.TimeFrom(),TimeTo:n.TimeTo()},success:function(){$.notify("Business added successfully.","success");$("#add-new-reserve_id").modal("hide");HideLoader();n.Load();n.ClearAll()},error:function(n,t,i){HideLoader();ShowErrorMessage(n,t,i)}})};n.ClearAll=function(){n.BusinessName("");n.BusinessTypeId(1)};n.Load()}function BusinessAccount(n){var t=this;t.ReservationBusinessId=ko.observable(n.ReservationBusinessId);t.BusinessName=ko.observable(n.BusinessName);t.LogoFullPath=ko.computed(function(){return n.LogoPath?n.LogoFullPath:"/content/assets/images/Group 727@2x.png"});t.Id=ko.computed(function(){return n.BusinessType==="Generic"?n.BusinessId:n.ConcertId});t.ConcertId=ko.observable(n.ConcertId);t.BusinessId=ko.observable(n.BusinessId);t.BusinessType=ko.observable(n.BusinessType);t.BusinessTypeId=ko.observable(n.BusinessTypeId);t.ButtonText=ko.computed(function(){var t=$.cookie("concertid"),i=$.cookie("businessid");return t?n.ConcertId===t?"Current":"Switch":i?n.BusinessId===i?"Current":"Switch":"Switch"});t.Href=ko.computed(function(){return n.BusinessType==="Generic"?"/admin/reservation/?id="+n.BusinessId:"/concert/reservation/?id="+n.ConcertId});t.Delete=function(n){confirm(`Are you sure you want to delete this business "${n.BusinessName()}"?`)&&(ShowLoader(),$.ajax({type:"DELETE",url:webserviceURL+"business",data:{Id:n.Id(),BusinessType:n.BusinessTypeId()},success:function(){accountSetupViewModel.Load();HideLoader();$.notify(`"${n.BusinessName()}" business deleted successfully.`,"success")},error:function(n,t,i){HideLoader();ShowErrorMessage(n,t,i)}}))}}$("body").addClass("preference_body  concert__event concert_account_body concert_events");var accountSetupViewModel=new AccountSetupViewModel;ko.applyBindings(accountSetupViewModel);