
<div class="content-wrapper">

    @Html.Partial("_PartialMenu")

    <section class="content-header">
        <div class="content_header_left">
            <h2 class="uppercase">RESERVATION</h2>
            <div class="search_bar_lft">
                <input type="text" class="search_input" placeholder="search" data-bind="textInput: SearchText">
            </div>
        </div>
        <div class="content_header_right">
            <ul class="date_to select_opt">
                <li>
                    <svg class="svg_clander" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                        <path id="prefix__iconfinder_calendar_3671721" d="M1 4a2.006 2.006 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2zm2 2v12h14V6zm2-6h2v2H5zm8 0h2v2h-2zM5 9h2v2H5zm0 4h2v2H5zm4-4h2v2H9zm0 4h2v2H9zm4-4h2v2h-2zm0 4h2v2h-2z" transform="translate(-1)" style="fill:#94979c" />
                    </svg>
                </li>
                <li>
                    <select class="form-control selectpicker " id="select_month" data-bind="event:{ change: OnChangeDate}">
                        <option value="1">Jan</option>
                        <option value="2">Feb</option>
                        <option value="3">Mar</option>
                        <option value="4">Apr</option>
                        <option value="5">May</option>
                        <option value="6">Jun</option>
                        <option value="7">Jul</option>
                        <option value="8">Aug</option>
                        <option value="9">Sep</option>
                        <option value="10">Oct</option>
                        <option value="11">Nov</option>
                        <option value="12">Dec</option>
                    </select>
                </li>
                <li class="day_number">
                    <select class="form-control selectpicker" id="select_date" data-bind="event:{ change: OnChangeDate}">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                        <option value="31">31</option>
                    </select>
                </li>
                <li>
                    <select class="form-control selectpicker" id="select_yrs" data-bind="event:{ change: OnChangeDate}">
                        <option>2020</option>
                        <option>2021</option>
                    </select>
                </li>
            </ul>
            <a href="#" class="btn btn-primary add-new-reserve blue_right_btn" data-toggle="modal" data-bind="click: Add">
                <span class="svg_add-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15">
                        <path id="prefix__add_icon" d="M6 15V9H0V6h6V0h3v6h6v3H9v6z" style="fill:#fff" />
                    </svg>
                </span>ADD RESERVATION
            </a>
        </div>
    </section><!-- end of content-header -->

    <section class="content-body clearfix">
        <div class="content-table custom-table-responsive">
            <table class="table">
                <thead>
                    <tr class="shadow-bottom">
                        <th>Size</th>
                        <th width="20%">Name</th>
                        <th>&nbsp;TYPE</th>
                        <th>RESERVED</th>
                        <th>TIME IN</th>
                        <th>TIME OUT</th>
                        <th>STATUS</th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <!--ko foreach: Reservations-->
                    <tr>
                        <td class="bg-red"><span class="large-text" data-bind="text: Size"></span></td>
                        <td>
                            <div class="name-block">
                                <p class="name" data-bind="text: GuestName"></p>
                                <a href="#" class="prs_numb" data-bind="attr:{'href': 'tel:' + GuestMobileNumber()}, text: GuestMobileNumber"></a>
                            </div>
                        </td>
                        <td><p data-bind="text: GuestType, class: 'call_info ' + GuestTypeCss()"></p></td>
                        <td><p class="call_hrs" data-bind="text: Reserved"></p></td>
                        <td><p class="call_time_in" data-bind="text: TimeIn"></p></td>
                        <td><p class="call_time_out" data-bind="text: TimeOut"></p></td>
                        <td><p data-bind="text: Status, class: 'status_show ' + StatusCss()"></p></td>
                        <td data-bind="css: {'bg-darkgreen' : IsTimeIn() == true || IsTimeIn() == false}">
                            <a href="#" class="seat-link" title="Seat" data-bind="click: function(){$root.TimeInReservation(Id())}, visible: IsTimeIn"><span style="background:transparent url(/content/assets/graphics/tick-icon.png) no-repeat scroll 0% 0% / contain;">Seat</span><p>Time In</p></a>
                            <a href="#" class="seat-link" title="Seat" data-bind="click: function(){$root.TimeOutReservation(Id())}, visible: IsTimeIn()==false"><span style="background:transparent url(/content/assets/graphics/tick-icon.png) no-repeat scroll 0% 0% / contain;">Seat</span><p>Time Out</p></a>
                        </td>
                        <td class="bg-blue">
                            <a href="#" class="message-link" title="Message" data-bind="click: function(){$root.ShowMsg(this)}"><span>Msg</span><p>Message</p></a>
                        </td>
                        <td data-bind="css: {'bg-darkred' : !IsCancelled()}">
                            <a href="#" class="cancel-link" title="Cancel" data-bind="click: function(){$root.CancelReservation(Id())}, visible: !IsCancelled()"><span>Cancel</span><p>Cancel</p></a>
                        </td>
                        <td><a href="#" data-bind="click: function(){$root.Edit(this)}">Edit</a></td>
                    </tr>
                    <!--/ko-->
                </tbody>
            </table><!-- end of table -->
        </div><!-- end of content-table -->
    </section><!-- end of content-body -->
</div><!-- end of content-wrapper -->
<!-- Chat section -->
<span class="chat-overlay"></span>
<div class="chat-box">
    <div class="chat-header">
        <h2 class="chat-title" data-bind="text:MyGuestName"></h2>
        <a href="javascript:;" class="chat-close"><span></span></a>
    </div><!--end of chat-header -->

    <ul class="chat-msgs" data-bind="foreach: GuestMessages">
        <!-- ko ifnot: MessageFrom -->
        <li class="chat-details from-msg">
            <div class="from-details clearfix">
                <h3 class="pull-left color-green" data-bind="text:GuestName"></h3>
                <span class="pull-right" data-bind="text:MessageTime"></span>
            </div>
            <div class="chat-content" data-bind="text:Message">
            </div>
        </li>
        <!-- /ko -->
        <!-- ko if: MessageFrom -->
        <li class="chat-details own-msg">
            <div class="own-details clearfix">
                <h3 class="pull-right">You</h3>
                <span clas="pull-left" data-bind="text:MessageTime"></span>
            </div>
            <div class="chat-content" data-bind="text:Message">
            </div>
        </li>
        <!-- /ko -->
    </ul><!-- end of chat-msgs -->


    <form action="#" class="chat-textbox">
        <input type="text" class="chat-input" placeholder="Enter reply here.." data-bind="textInput: Message" id="txtReply" />
        <input type="submit" class="chat-submit" value="Reply" data-bind="click: function(){$root.Reply()}">
    </form><!-- end of chat-textbox -->
</div><!--end of chat-box -->
<!-- Modal -->
<div class="modal fade" id="add-new-reserve_id" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title uppercase" id="myModalLabel" data-bind="text: Mode() + ' RESERVATION'"></h4>
                <div class="right_coner select_opt">
                    <select class="form-control selectpicker" id="select_type_resrve" data-bind="value: GuestTypeId">
                        <option value="1">Call-In</option>
                        <option value="2">Walk-In</option>
                        <option value="3">Mobile</option>
                    </select>
                </div>
            </div><!-- end of modal-header -->
            <div class="modal-body">
                <form action="#" class="theme-black-form">
                    <div class="form_first">
                        <div class="form-group res_fr_1">
                            <label>Name.</label>
                            <input type="text" class="form-control" placeholder="Enter name" data-bind="value: GuestName">
                        </div>
                        <div class="form-group res_fr_2">
                            <label>Mobile No.</label>
                            <input type="text" class="form-control" placeholder="+1 XXXXXXXXXX" data-bind="value: MobileNumber">
                        </div>
                    </div>
                    <div class="form-group form_second">
                        <nav class="pull-right">
                            <label>Size:</label>
                            <ul class="pagination">
                                <li>
                                    <a href="#" data-bind="click: SetSizeValue" id="size1">1</a>
                                </li>
                                <li>
                                    <a href="#" data-bind="click: SetSizeValue" id="size2">2</a>
                                </li>
                                <li>
                                    <a href="#" data-bind="click: SetSizeValue" id="size3">3</a>
                                </li>
                                <li>
                                    <a href="#" data-bind="click: SetSizeValue" id="size4">4</a>
                                </li>
                                <li>
                                    <a href="#" data-bind="click: SetSizeValue" id="size5">5</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                    <div class="form-group form_third select_opt">
                        <label>Select Date</label>
                        <div id="datepicker" class="input-group date" data-date-formate="yyyy-mm-dd">
                            <input type="date" class="date_picker_show" name="daterange" data-bind="value: SelectedDate" required>
                            @*<svg class="svg_clander reserve_it" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                                <path id="prefix__iconfinder_calendar_3671721" d="M1 4a2.006 2.006 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2zm2 2v12h14V6zm2-6h2v2H5zm8 0h2v2h-2zM5 9h2v2H5zm0 4h2v2H5zm4-4h2v2H9zm0 4h2v2H9zm4-4h2v2h-2zm0 4h2v2h-2z" transform="translate(-1)" style="fill:#94979c"></path>
                            </svg>*@
                        </div>
                    </div>
                    <div class="form-group form_fifth">
                        <label>Time</label>
                        <ul>
                            <!--ko foreach: Times-->
                            <li data-bind="click: SetTimeSlot" class="timeslots">
                                @*<div class="res_check">*@
                                <input type="checkbox" class="form-check-input" data-bind="value:OpenHourFrom()+'-'+OpenHourTo()">
                                <span class="input_chk"></span>
                                @*</div>*@
                                <span class="time_resv" data-bind="text: Time"></span>
                                <span class="left_days" data-bind="text: SpotLeft() + ' left'"></span>
                            </li>
                            <!--/ko-->
                        </ul>
                    </div>
                    <div class="form-group form_fourth">
                        <label>Notes/Comment</label>
                        <input name="comments" class="form-control textarea" placeholder="Enter notes/comments here..." data-bind="value: Comments">
                    </div>
                </form><!-- end of theme-black-form -->
            </div><!-- end of modal-body -->
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bind="click: AddReservation">SAVE</button>
                <button type="button" class="btn btn-default close-popup" data-dismiss="modal">Cancel</button>
            </div><!-- end of modal-footer -->
        </div><!-- end of modal-content -->
    </div><!-- end of modal-dialog -->
</div><!-- end of modal -->
<script src="~/Scripts/app/reservation/reservation.js"></script>